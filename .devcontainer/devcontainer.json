{
  // Spyglass Workshop — MySQL fallback via GitHub Codespaces.
  //
  // If the LAN MySQL instance is unavailable, attendees open this repo in a
  // Codespace and connect their notebooks to localhost:3306 instead of the
  // instructor's IP.  See database/README.md → "Codespaces Fallback".
  //
  // Credentials (same as the LAN instance):
  //   User: sailor   Password: galley    (attendee)
  //   User: captain  Password: bridge    (admin)
  //   User: swab     Password: bilge     (read-only)
  //   Root password: tutorial

  "name": "Spyglass Workshop DB",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04",

  "features": {
    // Installs MySQL 8.0 and starts the service automatically.
    "ghcr.io/devcontainers/features/mysql:1": {
      "version": "8.0",
      "rootPassword": "tutorial"
    }
  },

  // Apply workshop MySQL config and create roles/users.
  "postCreateCommand": "bash .devcontainer/setup-db.sh",

  "forwardPorts": [3306],
  "portsAttributes": {
    "3306": {
      "label": "MySQL Workshop DB",
      "onAutoForward": "silent"
    }
  },

  "remoteUser": "vscode"
}
